[{"E:\\projects\\react\\admin_mm_store_ms\\src\\index.js":"1","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\Main.js":"2","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\AdminIndex.js":"3","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\Login.js":"4","E:\\projects\\react\\admin_mm_store_ms\\src\\config\\apiUrl.js":"5","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\staffManage\\staffAdd.js":"6","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\staffManage\\staffList.js":"7","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\staffManage\\StaffList.js":"8","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\staffManage\\StaffAdd.js":"9","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\dramaManage\\DramaAdd.js":"10","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\dramaManage\\DramaList.js":"11"},{"size":162,"mtime":1611492333580,"results":"12","hashOfConfig":"13"},{"size":391,"mtime":1613732485808,"results":"14","hashOfConfig":"13"},{"size":4205,"mtime":1638786666759,"results":"15","hashOfConfig":"13"},{"size":3146,"mtime":1638796327558,"results":"16","hashOfConfig":"13"},{"size":608,"mtime":1638795944640,"results":"17","hashOfConfig":"13"},{"size":5966,"mtime":1638782569550,"results":"18","hashOfConfig":"13"},{"size":2631,"mtime":1638779597237,"results":"19","hashOfConfig":"13"},{"size":2631,"mtime":1638779597237,"results":"20","hashOfConfig":"13"},{"size":5966,"mtime":1638782569550,"results":"21","hashOfConfig":"13"},{"size":5966,"mtime":1638788557610,"results":"22","hashOfConfig":"13"},{"size":8856,"mtime":1638795175000,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1b8xhqh",{"filePath":"26","messages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"41"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"E:\\projects\\react\\admin_mm_store_ms\\src\\index.js",[],"E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\Main.js",[],"E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\AdminIndex.js",["49","50","51","52","53"],"E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\Login.js",["54"],"E:\\projects\\react\\admin_mm_store_ms\\src\\config\\apiUrl.js",[],"E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\staffManage\\staffAdd.js",["55","56","57","58","59","60"],"E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\staffManage\\staffList.js",["61","62"],"E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\staffManage\\StaffList.js",["63","64","65"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../../static/css/staffManage/StaffList.css\";\r\nimport { List, Row, Col, Modal, message, Button, Switch, Avatar } from \"antd\";\r\nimport axios from \"axios\";\r\nimport servicePath from \"../../config/apiUrl\";\r\nconst { confirm } = Modal;\r\n\r\nfunction StaffList(props) {\r\n  const [list, setList] = useState([]);\r\n\r\n  const getList = () => {\r\n    axios({\r\n      method: \"get\",\r\n      url: servicePath.getDMUsers,\r\n      withCredentials: true,\r\n    }).then((res) => {\r\n      console.log(res);\r\n      setList(res.data.data);\r\n    });\r\n  };\r\n\r\n  const deleteArticle = (id) => {\r\n    confirm({\r\n      title: \"确定要删除这篇剧本吗？\",\r\n      content: \"删除后无法恢复\",\r\n      onOk() {\r\n        axios(servicePath.deleteArticle + id, { withCredentials: true }).then(\r\n          (res) => {\r\n            message.success(\"剧本删除成功\");\r\n            getList();\r\n          }\r\n        );\r\n      },\r\n      onCancel() {\r\n        message.success(\"取消删除剧本\");\r\n      },\r\n    });\r\n  };\r\n\r\n  //修改剧本的跳转方法\r\n  const updateStaff = (id, checked) => {\r\n    props.history.push(\"/index/staffAdd/\" + id);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getList();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <List\r\n        header={\r\n          <Row className=\"list-div\">\r\n            <Col span={4}>\r\n              <b>头像</b>\r\n            </Col>\r\n            <Col span={4}>\r\n              <b>工号</b>\r\n            </Col>\r\n            <Col span={4}>\r\n              <b>昵称</b>\r\n            </Col>\r\n            <Col span={4}>\r\n              <b>性别</b>\r\n            </Col>\r\n            <Col span={4}>\r\n              <b>热度</b>\r\n            </Col>\r\n            <Col span={4}>\r\n              <b>操作</b>\r\n            </Col>\r\n          </Row>\r\n        }\r\n        bordered\r\n        dataSource={list}\r\n        renderItem={(item) => (\r\n          <List.Item>\r\n            <Row className=\"list-div\">\r\n              <Col span={4}>\r\n                <Avatar shape=\"square\" size={54} src={item.dmAvatarUrl} />\r\n              </Col>\r\n              <Col span={4}>{item.loginName}</Col>\r\n              <Col span={4}>{item.dmNickName}</Col>\r\n              <Col span={4}>{item.dmGender==1?'男':'女'}</Col>\r\n              <Col span={4}>{item.dmHot}</Col>\r\n              <Col span={4}>\r\n                <Button type=\"primary\" onClick={() => updateStaff(item.Id)}>\r\n                  修改\r\n                </Button>\r\n                &nbsp;\r\n              </Col>\r\n            </Row>\r\n          </List.Item>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StaffList;\r\n",["66","67"],"E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\staffManage\\StaffAdd.js",["68","69","70","71","72","73","74","75","76","77","78","79","80"],"import React, { useState, useEffect } from \"react\";\r\nimport \"../../static/css/staffManage/StaffAdd.css\";\r\nimport { Row, Col, Form, Upload, Input, message, Button, Radio } from \"antd\";\r\nimport {\r\n  LoadingOutlined,\r\n  PlusOutlined,\r\n  LeftSquareOutlined,\r\n} from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nimport servicePath from \"../../config/apiUrl\";\r\nimport { icons } from \"antd/lib/image/PreviewGroup\";\r\n\r\nconst StaffAdd = (props) => {\r\n  const [Id, setId] = useState(-1);\r\n  // Dm的ID，如果是-1说明是新增加，如果不是0，说明是修改\r\n  const [imageUrl, setImageUrl] = useState(\"\"); // Dm的ID，如果是-1说明是新增加，如果不是0，说明是修改\r\n  const [loading, setLoading] = useState(false); // Dm的ID，如果是-1说明是新增加，如果不是0，说明是修改\r\n\r\n  useEffect(() => {\r\n    let tempId = props.match.params.id;\r\n    console.log(\"StaffAdd--useEffect===\" + tempId);\r\n    if (tempId) {\r\n      setId(tempId);\r\n      getUser(tempId);\r\n    } else {\r\n      autoId();\r\n    }\r\n  }, []);\r\n\r\n  const autoId = (Id) => {\r\n    axios({\r\n      method: \"get\",\r\n      url: servicePath.autoId,\r\n      withCredentials: true,\r\n    }).then((res) => {\r\n      console.log(\"res.data.data========\" + JSON.stringify(res.data.data));\r\n      if (res.data.code == 1) {\r\n        form.setFieldsValue({\r\n          loginName: res.data.data,\r\n        });\r\n      } else {\r\n      }\r\n    });\r\n  };\r\n  const getUser = (Id) => {\r\n    axios({\r\n      method: \"get\",\r\n      url: servicePath.getUser,\r\n      params: { Id: Id },\r\n      withCredentials: true,\r\n    }).then((res) => {\r\n      console.log(\"res.data.data========\" + JSON.stringify(res.data.data));\r\n      if (res.data.code == 1) {\r\n        let data = res.data.data;\r\n        form.setFieldsValue({\r\n          ...data,\r\n        });\r\n        setImageUrl(data.dmAvatarUrl);\r\n      } else {\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleChange = (info) => {\r\n    if (info.file.status === \"uploading\") {\r\n      setLoading(true);\r\n      return;\r\n    }\r\n    if (info.file.status === \"done\") {\r\n      // Get this url from response in real world.\r\n      getBase64(info.file.originFileObj, (imageUrl) => {\r\n        setImageUrl(imageUrl);\r\n        setLoading(false);\r\n        form.setFieldsValue({\r\n          dmAvatarUrl: imageUrl,\r\n        });\r\n      });\r\n    }\r\n  };\r\n  function getBase64(img, callback) {\r\n    const reader = new FileReader();\r\n    reader.addEventListener(\"load\", () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n  }\r\n\r\n  const beforeUpload = (file) => {\r\n    const isJPG = file.type === \"image/jpeg\";\r\n    const isPNG = file.type === \"image/png\";\r\n    const isGIF = file.type === \"image/gif\";\r\n    const isBMP = file.type === \"image/bmp\";\r\n    if (!(isJPG || isPNG || isGIF || isBMP)) {\r\n      message.error(\"您只能上传PNG、JPG、JPEG、Gif、BMP格式的图片\");\r\n    }\r\n    const isLt2M = file.size / 1024 / 1024 < 2;\r\n    if (!isLt2M) {\r\n      message.error(\"您上传的图片不能超过2MB!\");\r\n    }\r\n    return (isJPG || isPNG || isGIF || isBMP) && isLt2M;\r\n  };\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const onFinish = (values) => {\r\n    console.log(\"Success:\", values);\r\n\r\n    axios({\r\n      method: \"post\",\r\n      url: Id == -1 ? servicePath.inertUser : servicePath.updateUser,\r\n      data: values,\r\n      withCredentials: true,\r\n    }).then((res) => {\r\n      if (res.data.code == 1) {\r\n        message.success(Id == -1 ? \"创建成功\" : \"修改成功\");\r\n        props.history.push(\"/index/staffList\");\r\n      } else {\r\n      }\r\n    });\r\n  };\r\n\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    props.history.goBack();\r\n  };\r\n\r\n  const layout = {\r\n    labelCol: {\r\n      span: 4,\r\n    },\r\n    wrapperCol: {\r\n      span: 8,\r\n    },\r\n  };\r\n  const tailLayout = {\r\n    wrapperCol: {\r\n      offset: 4,\r\n      span: 8,\r\n    },\r\n  };\r\n  const uploadButton = (\r\n    <div>\r\n      {loading ? <LoadingOutlined /> : <PlusOutlined />}\r\n      <div style={{ marginTop: 8 }}>Upload</div>\r\n    </div>\r\n  );\r\n  return (\r\n    <div>\r\n      {Id != -1 && Id != 0 ? (\r\n        <div onClick={handleBack} style={{ width: \"60px\" }}>\r\n          <LeftSquareOutlined /> 返回\r\n        </div>\r\n      ) : null}\r\n\r\n      <Form {...layout} form={form} onFinish={onFinish}>\r\n        <Form.Item\r\n          name=\"loginName\"\r\n          label=\"工号\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n            },\r\n          ]}\r\n        >\r\n          <Input disabled={true} />\r\n        </Form.Item>\r\n        <Form.Item\r\n          name=\"loginPsw\"\r\n          label=\"密码\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"dmNickName\" label=\"昵称\" initialValue=\"\">\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"dmAvatarUrl\" label=\"头像\" initialValue=\"\">\r\n          <Upload\r\n            listType=\"picture-card\"\r\n            showUploadList={false}\r\n            action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n            beforeUpload={beforeUpload}\r\n            onChange={handleChange}\r\n          >\r\n            {imageUrl ? (\r\n              <img src={imageUrl} alt=\"avatar\" style={{ width: \"100%\" }} />\r\n            ) : (\r\n              uploadButton\r\n            )}\r\n          </Upload>\r\n        </Form.Item>\r\n        <Form.Item label=\"性别\" name=\"dmGender\" initialValue={0}>\r\n          <Radio.Group>\r\n            <Radio.Button value={1}>男</Radio.Button>\r\n            <Radio.Button value={0}>女</Radio.Button>\r\n          </Radio.Group>\r\n        </Form.Item>\r\n        <Form.Item {...tailLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            {Id == -1 ? \"确认创建\" : \"确认修改\"}\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StaffAdd;\r\n","E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\dramaManage\\DramaAdd.js",["81","82","83","84","85","86","87","88","89","90","91","92","93"],"E:\\projects\\react\\admin_mm_store_ms\\src\\Pages\\dramaManage\\DramaList.js",["94","95","96","97"],{"ruleId":"98","severity":1,"message":"99","line":5,"column":3,"nodeType":"100","messageId":"101","endLine":5,"endColumn":19},{"ruleId":"98","severity":1,"message":"102","line":17,"column":9,"nodeType":"100","messageId":"101","endLine":17,"endColumn":15},{"ruleId":"103","severity":1,"message":"104","line":38,"column":15,"nodeType":"105","messageId":"106","endLine":38,"endColumn":17},{"ruleId":"103","severity":1,"message":"104","line":46,"column":15,"nodeType":"105","messageId":"106","endLine":46,"endColumn":17},{"ruleId":"103","severity":1,"message":"107","line":74,"column":38,"nodeType":"105","messageId":"106","endLine":74,"endColumn":40},{"ruleId":"103","severity":1,"message":"104","line":43,"column":25,"nodeType":"105","messageId":"106","endLine":43,"endColumn":27},{"ruleId":"98","severity":1,"message":"108","line":3,"column":10,"nodeType":"100","messageId":"101","endLine":3,"endColumn":13},{"ruleId":"98","severity":1,"message":"109","line":3,"column":15,"nodeType":"100","messageId":"101","endLine":3,"endColumn":18},{"ruleId":"98","severity":1,"message":"110","line":9,"column":10,"nodeType":"100","messageId":"101","endLine":9,"endColumn":12},{"ruleId":"111","severity":1,"message":"112","line":20,"column":6,"nodeType":"113","endLine":20,"endColumn":8,"suggestions":"114"},{"ruleId":"103","severity":1,"message":"104","line":31,"column":25,"nodeType":"105","messageId":"106","endLine":31,"endColumn":27},{"ruleId":"98","severity":1,"message":"115","line":85,"column":9,"nodeType":"100","messageId":"101","endLine":85,"endColumn":23},{"ruleId":"98","severity":1,"message":"116","line":3,"column":50,"nodeType":"100","messageId":"101","endLine":3,"endColumn":56},{"ruleId":"103","severity":1,"message":"104","line":83,"column":43,"nodeType":"105","messageId":"106","endLine":83,"endColumn":45},{"ruleId":"98","severity":1,"message":"116","line":3,"column":50,"nodeType":"100","messageId":"101","endLine":3,"endColumn":56},{"ruleId":"98","severity":1,"message":"117","line":22,"column":9,"nodeType":"100","messageId":"101","endLine":22,"endColumn":22},{"ruleId":"103","severity":1,"message":"104","line":83,"column":43,"nodeType":"105","messageId":"106","endLine":83,"endColumn":45},{"ruleId":"118","replacedBy":"119"},{"ruleId":"120","replacedBy":"121"},{"ruleId":"98","severity":1,"message":"108","line":3,"column":10,"nodeType":"100","messageId":"101","endLine":3,"endColumn":13},{"ruleId":"98","severity":1,"message":"109","line":3,"column":15,"nodeType":"100","messageId":"101","endLine":3,"endColumn":18},{"ruleId":"98","severity":1,"message":"122","line":11,"column":10,"nodeType":"100","messageId":"101","endLine":11,"endColumn":15},{"ruleId":"111","severity":1,"message":"123","line":28,"column":6,"nodeType":"113","endLine":28,"endColumn":8,"suggestions":"124"},{"ruleId":"103","severity":1,"message":"104","line":37,"column":25,"nodeType":"105","messageId":"106","endLine":37,"endColumn":27},{"ruleId":"103","severity":1,"message":"104","line":53,"column":25,"nodeType":"105","messageId":"106","endLine":53,"endColumn":27},{"ruleId":"103","severity":1,"message":"104","line":108,"column":15,"nodeType":"105","messageId":"106","endLine":108,"endColumn":17},{"ruleId":"103","severity":1,"message":"104","line":112,"column":25,"nodeType":"105","messageId":"106","endLine":112,"endColumn":27},{"ruleId":"103","severity":1,"message":"104","line":113,"column":28,"nodeType":"105","messageId":"106","endLine":113,"endColumn":30},{"ruleId":"98","severity":1,"message":"115","line":120,"column":9,"nodeType":"100","messageId":"101","endLine":120,"endColumn":23},{"ruleId":"103","severity":1,"message":"107","line":150,"column":11,"nodeType":"105","messageId":"106","endLine":150,"endColumn":13},{"ruleId":"103","severity":1,"message":"107","line":150,"column":23,"nodeType":"105","messageId":"106","endLine":150,"endColumn":25},{"ruleId":"103","severity":1,"message":"104","line":205,"column":17,"nodeType":"105","messageId":"106","endLine":205,"endColumn":19},{"ruleId":"98","severity":1,"message":"108","line":3,"column":10,"nodeType":"100","messageId":"101","endLine":3,"endColumn":13},{"ruleId":"98","severity":1,"message":"109","line":3,"column":15,"nodeType":"100","messageId":"101","endLine":3,"endColumn":18},{"ruleId":"98","severity":1,"message":"122","line":11,"column":10,"nodeType":"100","messageId":"101","endLine":11,"endColumn":15},{"ruleId":"111","severity":1,"message":"123","line":28,"column":6,"nodeType":"113","endLine":28,"endColumn":8,"suggestions":"125"},{"ruleId":"103","severity":1,"message":"104","line":37,"column":25,"nodeType":"105","messageId":"106","endLine":37,"endColumn":27},{"ruleId":"103","severity":1,"message":"104","line":53,"column":25,"nodeType":"105","messageId":"106","endLine":53,"endColumn":27},{"ruleId":"103","severity":1,"message":"104","line":108,"column":15,"nodeType":"105","messageId":"106","endLine":108,"endColumn":17},{"ruleId":"103","severity":1,"message":"104","line":112,"column":25,"nodeType":"105","messageId":"106","endLine":112,"endColumn":27},{"ruleId":"103","severity":1,"message":"104","line":113,"column":28,"nodeType":"105","messageId":"106","endLine":113,"endColumn":30},{"ruleId":"98","severity":1,"message":"115","line":120,"column":9,"nodeType":"100","messageId":"101","endLine":120,"endColumn":23},{"ruleId":"103","severity":1,"message":"107","line":150,"column":11,"nodeType":"105","messageId":"106","endLine":150,"endColumn":13},{"ruleId":"103","severity":1,"message":"107","line":150,"column":23,"nodeType":"105","messageId":"106","endLine":150,"endColumn":25},{"ruleId":"103","severity":1,"message":"104","line":205,"column":17,"nodeType":"105","messageId":"106","endLine":205,"endColumn":19},{"ruleId":"98","severity":1,"message":"116","line":10,"column":3,"nodeType":"100","messageId":"101","endLine":10,"endColumn":9},{"ruleId":"98","severity":1,"message":"126","line":11,"column":3,"nodeType":"100","messageId":"101","endLine":11,"endColumn":9},{"ruleId":"98","severity":1,"message":"117","line":41,"column":9,"nodeType":"100","messageId":"101","endLine":41,"endColumn":22},{"ruleId":"98","severity":1,"message":"127","line":60,"column":9,"nodeType":"100","messageId":"101","endLine":60,"endColumn":20},"no-unused-vars","'PieChartOutlined' is defined but never used.","Identifier","unusedVar","'Header' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","Expected '!==' and instead saw '!='.","'Row' is defined but never used.","'Col' is defined but never used.","'Id' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.match.params.id'. Either include it or remove the dependency array.","ArrayExpression",["128"],"'onFinishFailed' is assigned a value but never used.","'Switch' is defined but never used.","'deleteArticle' is assigned a value but never used.","no-native-reassign",["129"],"no-negated-in-lhs",["130"],"'icons' is defined but never used.","React Hook useEffect has missing dependencies: 'autoId', 'getUser', and 'props.match.params.id'. Either include them or remove the dependency array.",["131"],["132"],"'Avatar' is defined but never used.","'updateStaff' is assigned a value but never used.",{"desc":"133","fix":"134"},"no-global-assign","no-unsafe-negation",{"desc":"135","fix":"136"},{"desc":"135","fix":"137"},"Update the dependencies array to be: [props.match.params.id]",{"range":"138","text":"139"},"Update the dependencies array to be: [autoId, getUser, props.match.params.id]",{"range":"140","text":"141"},{"range":"142","text":"141"},[742,744],"[props.match.params.id]",[910,912],"[autoId, getUser, props.match.params.id]",[910,912]]